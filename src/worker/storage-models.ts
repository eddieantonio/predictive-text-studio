/**
 * @file Interfaces used in storage
 */

import type { WordList, ProjectMetadata } from "@common/types";

/**
 * A word list stored in the database.
 */
export interface StoredWordList {
  /** Autogenerated primary key */
  id?: number;

  /**
   * Typically the filename of the uploaded dictionary source.
   */
  name: string;
  /**
   * The actual contents of said file.
   */
  wordlist: WordList;
  /**
   * Size of the file in bytes.
   */
  size?: number;
  /**
   * File extension.
   */
  type?: string;
}

/**
 * The information needed to create a KMP file
 */
export interface StoredProjectData extends ProjectMetadata {
  /**
   * Primary key. For now, there is only one project, with PACKAGE_ID as its
   * primary key.
   */
  id?: number;

  /**
   * A custom model ID string.
   */
  modelID?: string;

  /**
   * The version number of the model.
   */
  version?: string;
}

export interface KeyboardData {
  /*
   * Store bcp47Tag as the primarykey
   */
  bcp47Tag: string;
  /**
   * Keyboard Language of the bcp47Tag
   */
  language: string;
}
export interface KeyboardDataWithTime extends KeyboardData {
  /**
   * Timestamp of last updated time
   */
  timestamp: Date;
}
export interface KMPPackageData {
  /** Autogenerated primary key */
  id?: number;
  /** The compiled KMP package */
  package: ArrayBuffer;
}
